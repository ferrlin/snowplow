:variables:
  :begin_tstamp: <<start>>
  :end_tstamp: <<finish>>
:steps:
  - :name: 03-events-enriched
    :queries:
      - :name: 03-01-join-unstructured
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/03-events-enriched/03-01-join-unstructured.sql
        :template: true
  - :name: 03-events-enriched
    :queries:
      - :name: 03-02-join-users
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/03-events-enriched/03-02-join-users.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-01-basic
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-01-basic.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-02-geo
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-02-geo.sql
        :template: true
      - :name: 04-03-landing-page
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-03-landing-page.sql
        :template: true
      - :name: 04-04-exit-page
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-04-exit-page.sql
        :template: true
      - :name: 04-05-source
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-05-source.sql
        :template: true
      - :name: 04-06-tech
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-06-tech.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-07-consolidate
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-07-consolidate.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-08-move-to-new
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-08-move-to-new.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-09-merge-part-1
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-09-merge-part-1.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-10-merge-part-2
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-10-merge-part-2.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-11-merge-part-3
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-11-merge-part-3.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-12-backup
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-12-backup.sql
        :template: true
  - :name: 04-sessions
    :queries:
      - :name: 04-13-move-to-pivot
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/04-sessions/04-13-move-to-pivot.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-01-basic
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-01-basic.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-02-landing-page
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-02-landing-page.sql
        :template: true
      - :name: 05-03-source
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-03-source.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-04-consolidate
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-04-consolidate.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-05-move-to-new
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-05-move-to-new.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-06-merge-part-1
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-06-merge-part-1.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-07-merge-part-2
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-07-merge-part-2.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-08-backup
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-08-backup.sql
        :template: true
  - :name: 05-visitors
    :queries:
      - :name: 05-09-move-to-pivot
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/05-visitors/05-09-move-to-pivot.sql
        :template: true
  - :name: 06-page-views
    :queries:
      - :name: 06-01-new
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/06-page-views/06-01-new.sql
        :template: true
  - :name: 06-page-views
    :queries:
      - :name: 06-02-move-to-new
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/06-page-views/06-02-move-to-new.sql
        :template: true
  - :name: 06-page-views
    :queries:
      - :name: 06-03-backup
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/06-page-views/06-03-backup.sql
        :template: true
  - :name: 06-page-views
    :queries:
      - :name: 06-04-move-to-pivot
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/06-page-views/06-04-move-to-pivot.sql
        :template: true
  - :name: 07-structured-events
    :queries:
      - :name: 07-01-structured-events
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/07-structured-events/07-01-structured-events.sql
        :template: true
  - :name: 09-vacuum
    :queries:
      - :name: 09-vacuum
        :file: snowplow/5-analytics/redshift-analytics/data-models/sql/incremental-catchup/09-vacuum/09-vacuum.sql
        :template: true